n & (n - 1) unsets the rightmost set bit

n | (n + 1) sets the rightmost unset bit